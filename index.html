<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Brainstorm Buddy</title>

  <!-- ‚úÖ Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="smallicon.png">
  <!-- Optional: Add ICO fallback (if you ever create one) -->
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
 

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Brainstorm Buddy</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6c63ff;
      --accent: #a259ff;
      --bg-light: #f5f4fa;
      --bg-dark: #1a1a1a;
      --text-light: #333;
      --text-dark: #f0f0f0;
      --muted-light: #666;
      --muted-dark: #aaa;
      --white: #ffffff;
    }
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: var(--bg-light); color: var(--text-light); transition: background 0.3s, color 0.3s; line-height: 1.;}
    body.dark { background: var(--bg-dark); color: var(--text-dark); }

    header {
      background: linear-gradient(to right, var(--accent), var(--primary));
      padding: 1rem 2rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      color: white;
    }
    .nav-left, .nav-right { display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
    .logo { width: 40px; height: 40px; cursor: pointer; }

    .btn, .switcher {
      padding: 0.5rem 1rem; border-radius: 8px; font-weight: 600; font-size: 0.95rem;
      cursor: pointer; border: none; transition: background 0.2s, color 0.2s;
    }
    .btn.primary { background: white; color: var(--primary); }
    .btn.primary:hover { background: #eae8ff; }
    .btn.outline, .switcher { background: transparent; color: white; border: 1px solid white; }
    .btn.outline:hover, .switcher:hover { background: rgba(255,255,255,0.1); }

    main { text-align: center; padding: 3rem 1rem 2rem; max-width: 900px; margin: auto; }
    main img { width: 100px; margin-bottom: 1rem; cursor: pointer; }
    main h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
    main p { font-size: 1.2rem; color: var(--muted-light); max-width: 600px; margin: 0 auto; }
    body.dark main p { color: var(--muted-dark); }

    section { padding: 2rem 1rem; max-width: 900px; margin: auto; }
    h2 { font-size: 1.75rem; color: var(--primary); margin-bottom: 1.25rem; text-align: center; }
    ul, ol { text-align: left; padding-left: 1.2rem; font-size: 1rem; }

    .use-cases-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-top: 1.5rem; }
    .card { background: var(--white); color: var(--text-light); border-radius: 12px; padding: 1.5rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); text-align: left; }
    body.dark .card { background: #2a2a2a; color: var(--text-dark); }

    .cta { background: var(--primary); color: white; border-radius: 16px; padding: 2rem; text-align: center; margin: 2rem auto; max-width: 900px; }
    .cta h2, .cta p { color: white !important; }
    .cta button { margin-top: 1rem; background: white; color: var(--primary); }
    .cta button:hover { background: #f0efff; }

    footer { padding: 2rem; text-align: center; font-size: 0.9rem; background: #fafafa; color: var(--muted-light); }
    footer a { color: var(--primary); margin: 0 0.75rem; text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    .profile-container { margin-left: 1rem; }

    @media (max-width: 600px) {
      header { flex-direction: column; align-items: stretch; padding: 1rem; }
      .nav-left, .nav-right { justify-content: center; width: 100%; }
      .nav-left button, .nav-right button, .nav-right select { flex: 1 1 auto; min-width: 100px; }
      .logo { margin-bottom: 0.5rem; }
    }
  </style>
</head>
<body>
  <header>
    <div class="nav-left">
      <img src="icon128.png" alt="Logo" class="logo" onclick="location.href='index.html'" />
      <button id="addBtn" class="btn primary">Add to Chrome</button>
      <button id="loginBtn" class="btn outline">Login</button>
    </div>
    <div class="nav-right">
      <button id="pricingBtn" class="btn outline">Pricing</button>
      <button id="aboutBtn" class="btn outline">About</button>
      <button class="switcher" onclick="toggleDarkMode()">üåô</button>
      <select class="switcher" onchange="changeLanguage(this.value)">
        <option value="en">EN</option>
        <option value="es">ES</option>
        <option value="fr">FR</option>
        <option value="ru">RU</option>
        <option value="it">IT</option>
        <option value="pt">PT</option>
      </select>
    </div>
  </header>

  <main>
    <img src="icon128.png" alt="Brainstorm Buddy Icon" onclick="location.href='index.html'" />
    <h1 id="headline">Boost Your Productivity</h1>
    <p id="subtext">Your favorite Chrome Extension for AI-powered brainstorming and smart note-taking.</p>
  </main>

  <section>
    <h2 id="featuresTitle">‚ú® Features</h2>
    <ul>
      <li id="feature1">üß† Instantly generate ideas using AI</li>
      <li id="feature2">üìù Write and organize your own notes</li>
      <li id="feature3">üìÅ Export or import your notes anytime</li>
      <li id="feature4">‚ö° Super lightweight and fast in your browser</li>
    </ul>
  </section>

  <section>
    <h2 id="howTitle">üìå How It Works</h2>
    <ol>
      <li id="step1">Install the extension on Chrome</li>
      <li id="step2">Click the Brainstorm Buddy icon</li>
      <li id="step3">Generate ideas with AI or write your own</li>
      <li id="step4">Save, export, or import your notes</li>
    </ol>
  </section>

  <section>
    <h2 id="usecasesTitle">üéØ Perfect For</h2>
    <div class="use-cases-grid">
  <div class="card">
    <h3 id="studentTitle">üßë‚Äçüéì Students</h3>
    <p id="studentDesc">Quickly brainstorm essay ideas, project outlines, and study notes.</p>
  </div>
  <div class="card">
    <h3 id="writerTitle">‚úçÔ∏è Writers</h3>
    <p id="writerDesc">Get past creative blocks and develop fresh story or content ideas.</p>
  </div>
  <div class="card">
    <h3 id="entrepreneurTitle">üí° Entrepreneurs</h3>
    <p id="entrepreneurDesc">Jot down business ideas, product features, and customer pain points.</p>
  </div>
  <div class="card">
    <h3 id="professionalTitle">üëî Professionals & Employers</h3>
    <p id="professionalDesc">Streamline reports, prep for meetings, draft emails, and generate ideas for team improvement.</p>
  </div>
  <div class="card">
    <h3 id="marketerTitle">üõçÔ∏è Marketers & Content Creators</h3>
    <p id="marketerDesc">Plan social media content, brainstorm campaigns, and draft blog post ideas effortlessly.</p>
  </div>
  <div class="card">
    <h3 id="developerTitle">üßë‚Äçüíª Developers & Techies</h3>
    <p id="developerDesc">Jot down code snippets, write pseudocode, and log feature ideas or bugs during research or development.</p>
  </div>
</div>
  </section>

  <section class="cta">
    <h2 id="ctaTitle">Ready to turn ideas into action?</h2>
    <p id="ctaDesc">Install Brainstorm Buddy and start brainstorming smarter, not harder.</p>
    <button class="btn primary" onclick="window.open('https://chromewebstore.google.com/', '_blank')">‚ûï Add to Chrome</button>
  </section>

  <footer>
    <a id="footerPrivacy" href="privacy.html">Privacy Policy</a>
    <a id="footerTerms" href="terms.html">Terms of Service</a>
    <a id="footerContact" href="contact.html">Contact Us</a>
    <a id="footerSupport" href="support.html">Support Us</a>
  </footer>

  <script>
    const API_BASE =
  (location.hostname.includes('localhost') || location.hostname.startsWith('127.'))
    ? 'http://127.0.0.1:5050'
    : 'https://auth-backend-b1b6.onrender.com';

    const translations = {
      en: {
        addBtn: "Add to Chrome",
        loginBtn: "Login",
        pricingBtn: "Pricing",
        aboutBtn: "About",
        headline: "Boost Your Productivity",
        subtext: "Your favorite Chrome Extension for AI-powered brainstorming and smart note-taking.",
        featuresTitle: "‚ú® Features",
        feature1: "üß† Instantly generate ideas using AI",
        feature2: "üìù Write and organize your own notes",
        feature3: "üìÅ Export or import your notes anytime",
        feature4: "‚ö° Super lightweight and fast in your browser",
        howTitle: "üìå How It Works",
        step1: "Install the extension on Chrome",
        step2: "Click the Brainstorm Buddy icon",
        step3: "Generate ideas with AI or write your own",
        step4: "Save, export, or import your notes",
        usecasesTitle: "üéØ Perfect For",
        studentTitle: "üßë‚Äçüéì Students",
        studentDesc: "Quickly brainstorm essay ideas, project outlines, and study notes.",
        writerTitle: "‚úçÔ∏è Writers",
        writerDesc: "Get past creative blocks and develop fresh story or content ideas.",
        entrepreneurTitle: "üí° Entrepreneurs",
        entrepreneurDesc: "Jot down business ideas, product features, and customer pain points.",
        professionalTitle: "üëî Professionals & Employers",
        professionalDesc: "Streamline reports, prep for meetings, draft emails, and generate ideas for team improvement.",
       marketerTitle: "üõçÔ∏è Marketers & Content Creators",
  marketerDesc: "Plan social media content, brainstorm campaigns, and draft blog post ideas effortlessly.",
  developerTitle: "üßë‚Äçüíª Developers & Techies",
  developerDesc: "Jot down code snippets, write pseudocode, and log feature ideas or bugs during research or development.",
        ctaTitle: "Ready to turn ideas into action?",
        ctaDesc: "Install Brainstorm Buddy and start brainstorming smarter, not harder.",
        footerPrivacy: "Privacy Policy",
        footerTerms: "Terms of Service",
        footerContact: "Contact Us",
        footerSupport: "Support Us"
      },
      es: {
        addBtn: "Agregar a Chrome", loginBtn: "Iniciar sesi√≥n", pricingBtn: "Precios", aboutBtn: "Acerca de",
        headline: "Aumenta tu productividad", subtext: "Tu extensi√≥n favorita para lluvia de ideas con IA.",
        featuresTitle: "‚ú® Funciones", feature1: "üß† Genera ideas con IA", feature2: "üìù Escribe tus notas",
        feature3: "üìÅ Exporta o importa tus notas", feature4: "‚ö° Ligera y r√°pida",
        howTitle: "üìå C√≥mo funciona", step1: "Instala la extensi√≥n", step2: "Haz clic en el icono",
        step3: "Genera ideas o escribe", step4: "Guarda o exporta tus notas",
        usecasesTitle: "üéØ Perfecto para", studentTitle: "üßë‚Äçüéì Estudiantes", studentDesc: "Ideas para ensayos y estudios",
        writerTitle: "‚úçÔ∏è Escritores", writerDesc: "Supera bloqueos creativos", entrepreneurTitle: "üí° Emprendedores",
        entrepreneurDesc: "Anota ideas y problemas de clientes",
        professionalTitle: "üëî Profesionales y Empleadores",
        professionalDesc: "Optimiza informes, prepara reuniones, redacta correos y genera ideas para mejorar el equipo.",
       marketerTitle: "üõçÔ∏è Marketeros y Creadores de Contenido",
  marketerDesc: "Planifica contenido en redes sociales, ideas de campa√±as y borradores de blogs f√°cilmente.",
  developerTitle: "üßë‚Äçüíª Desarrolladores y T√©cnicos",
  developerDesc: "Anota fragmentos de c√≥digo, escribe pseudoc√≥digo y registra ideas o errores durante la investigaci√≥n o el desarrollo.",
        ctaTitle: "¬øListo para empezar?",
        ctaDesc: "Instala Brainstorm Buddy ahora", footerPrivacy: "Pol√≠tica de privacidad",
        footerTerms: "T√©rminos del servicio", footerContact: "Cont√°ctanos", footerSupport: "Ap√≥yanos"
      },
      fr: {
        addBtn: "Ajouter √† Chrome", loginBtn: "Connexion", pricingBtn: "Tarifs", aboutBtn: "√Ä propos",
        headline: "Boostez votre productivit√©", subtext: "Extension Chrome pour prise de notes intelligente.",
        featuresTitle: "‚ú® Fonctionnalit√©s", feature1: "üß† G√©n√©rez des id√©es avec l'IA", feature2: "üìù Organisez vos notes",
        feature3: "üìÅ Exportez ou importez vos notes", feature4: "‚ö° Rapide et l√©g√®re",
        howTitle: "üìå Comment √ßa marche", step1: "Installez l'extension", step2: "Cliquez sur l'ic√¥ne",
        step3: "G√©n√©rez ou √©crivez", step4: "Sauvegardez vos notes",
        usecasesTitle: "üéØ Id√©al pour", studentTitle: "üßë‚Äçüéì √âtudiants", studentDesc: "Id√©es de projets et √©tudes",
        writerTitle: "‚úçÔ∏è √âcrivains", writerDesc: "D√©bloquez votre cr√©ativit√©", entrepreneurTitle: "üí° Entrepreneurs",
        professionalTitle: "üëî Professionnels et Employeurs",
        professionalDesc: "Simplifiez les rapports, pr√©parez les r√©unions, r√©digez des e-mails et trouvez des id√©es pour am√©liorer l‚Äô√©quipe.",
        entrepreneurDesc: "Notez vos id√©es de produits", ctaTitle: "Pr√™t √† agir ?", ctaDesc: "Installez Brainstorm Buddy",
       marketerTitle: "üõçÔ∏è Marketeurs & Cr√©ateurs de contenu",
  marketerDesc: "Planifiez du contenu social, imaginez des campagnes et r√©digez des brouillons de blogs facilement.",
  developerTitle: "üßë‚Äçüíª D√©veloppeurs & Technophiles",
  developerDesc: "Notez des extraits de code, √©crivez du pseudocode et consignez des id√©es ou bugs pendant vos recherches ou d√©veloppements.",
        footerPrivacy: "Politique de confidentialit√©", footerTerms: "Conditions d'utilisation", footerContact: "Contactez-nous", footerSupport: "Soutenez-nous"
      },
      ru: {
        addBtn: "–î–æ–±–∞–≤–∏—Ç—å –≤ Chrome", loginBtn: "–í–æ–π—Ç–∏", pricingBtn: "–¶–µ–Ω—ã", aboutBtn: "–û –Ω–∞—Å",
        headline: "–ü–æ–≤—ã—à–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", subtext: "–í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –º–æ–∑–≥–æ–≤–æ–≥–æ —à—Ç—É—Ä–º–∞",
        featuresTitle: "‚ú® –§—É–Ω–∫—Ü–∏–∏", feature1: "üß† –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π —Å –ò–ò", feature2: "üìù –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏",
        feature3: "üìÅ –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç", feature4: "‚ö° –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞",
        howTitle: "üìå –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç", step1: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ", step2: "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É",
        step3: "–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ", step4: "–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–º–µ—Ç–∫–∏",
        usecasesTitle: "üéØ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è", studentTitle: "üßë‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç—ã", studentDesc: "–ò–¥–µ–∏ –∏ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —É—á–µ–±—ã",
        writerTitle: "‚úçÔ∏è –ü–∏—Å–∞—Ç–µ–ª–∏", writerDesc: "–ü—Ä–µ–æ–¥–æ–ª–µ–π—Ç–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏", entrepreneurTitle: "üí° –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–∏",
        professionalTitle: "üëî –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã –∏ –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–∏",
        professionalDesc: "–£–ø—Ä–æ—â–∞–π—Ç–µ –æ—Ç—á—ë—Ç—ã, –≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ –≤—Å—Ç—Ä–µ—á–∞–º, –ø–∏—à–∏—Ç–µ –ø–∏—Å—å–º–∞ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã.",
        entrepreneurDesc: "–ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –∏–¥–µ–∏ –∏ —Ñ–∏—á–∏", ctaTitle: "–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?", ctaDesc: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Brainstorm Buddy",
       marketerTitle: "üõçÔ∏è –ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–∏ –∏ –ö–æ–Ω—Ç–µ–Ω—Ç-–∫—Ä–∏—ç–π—Ç–æ—Ä—ã",
  marketerDesc: "–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π, –ø—Ä–∏–¥—É–º—ã–≤–∞–π—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏ –∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∏ —Å—Ç–∞—Ç–µ–π –±–µ–∑ —É—Å–∏–ª–∏–π.",
  developerTitle: "üßë‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –¢–µ—Ö–Ω–∏–∫–∏",
  developerDesc: "–ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ —Å–Ω–∏–ø–ø–µ—Ç—ã –∫–æ–¥–∞, –ø–∏—à–∏—Ç–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥ –∏ —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–¥–µ–∏ –∏–ª–∏ –±–∞–≥–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π.",
        footerPrivacy: "–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", footerTerms: "–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è", footerContact: "–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏", footerSupport: "–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –Ω–∞—Å"
      },
      it: {
        addBtn: "Aggiungi a Chrome", loginBtn: "Accedi", pricingBtn: "Prezzi", aboutBtn: "Chi siamo",
        headline: "Aumenta la produttivit√†", subtext: "Estensione per brainstorming intelligente",
        featuresTitle: "‚ú® Caratteristiche", feature1: "üß† Genera idee con l'IA", feature2: "üìù Organizza le tue note",
        feature3: "üìÅ Esporta o importa", feature4: "‚ö° Veloce e leggera",
        howTitle: "üìå Come funziona", step1: "Installa l'estensione", step2: "Clicca sull'icona",
        step3: "Genera o scrivi", step4: "Salva le note",
        usecasesTitle: "üéØ Perfetto per", studentTitle: "üßë‚Äçüéì Studenti", studentDesc: "Appunti e idee per lo studio",
        writerTitle: "‚úçÔ∏è Scrittori", writerDesc: "Supera i blocchi creativi", entrepreneurTitle: "üí° Imprenditori",
        professionalTitle: "üëî Professionisti e Datori di lavoro",
        professionalDesc: "Snellisci i report, prepara riunioni, scrivi email e genera idee per migliorare il team.",
        entrepreneurDesc: "Scrivi idee di business", ctaTitle: "Pronto ad agire?", ctaDesc: "Installa Brainstorm Buddy",
        marketerTitle: "üõçÔ∏è Marketer e Creatori di Contenuti",
  marketerDesc: "Pianifica post social, idee di campagne e bozze di blog senza sforzo.",
  developerTitle: "üßë‚Äçüíª Sviluppatori & Tecnici",
  developerDesc: "Annota snippet di codice, scrivi pseudocodice e registra idee o bug durante la ricerca o lo sviluppo.",
        footerPrivacy: "Privacy", footerTerms: "Termini", footerContact: "Contattaci", footerSupport: "Sostienici"
      },
      pt: {
        addBtn: "Adicionar ao Chrome", loginBtn: "Entrar", pricingBtn: "Pre√ßos", aboutBtn: "Sobre",
        headline: "Aumente sua produtividade", subtext: "Extens√£o de anota√ß√µes inteligentes com IA.",
        featuresTitle: "‚ú® Recursos", feature1: "üß† Gera√ß√£o de ideias com IA", feature2: "üìù Organize suas notas",
        feature3: "üìÅ Exporte ou importe", feature4: "‚ö° R√°pida e leve",
        howTitle: "üìå Como funciona", step1: "Instale a extens√£o", step2: "Clique no √≠cone",
        step3: "Gere ou escreva ideias", step4: "Salve suas anota√ß√µes",
        usecasesTitle: "üéØ Perfeito para", studentTitle: "üßë‚Äçüéì Estudantes", studentDesc: "Ideias e resumos",
        writerTitle: "‚úçÔ∏è Escritores", writerDesc: "Supere bloqueios criativos", entrepreneurTitle: "üí° Empreendedores",
        professionalTitle: "üëî Profissionais e Empregadores",
        professionalDesc: "Otimize relat√≥rios, prepare reuni√µes, escreva e-mails e gere ideias para melhorar a equipe.",
        entrepreneurDesc: "Anote ideias de neg√≥cios", ctaTitle: "Pronto para agir?", ctaDesc: "Instale agora",
        marketerTitle: "üõçÔ∏è Profissionais de Marketing & Criadores de Conte√∫do",
  marketerDesc: "Planeje posts para redes sociais, campanhas e rascunhos de blogs com facilidade.",
  developerTitle: "üßë‚Äçüíª Desenvolvedores & T√©cnicos",
  developerDesc: "Anote trechos de c√≥digo, escreva pseudoc√≥digo e registre ideias ou bugs durante pesquisas ou desenvolvimento.",
        footerPrivacy: "Pol√≠tica de Privacidade", footerTerms: "Termos de Uso", footerContact: "Contato", footerSupport: "Apoie-nos"
      }
    };

    function changeLanguage(lang) {
      const t = translations[lang];
      if (t) {
        for (const key in t) {
          const el = document.getElementById(key);
          if (el) el.textContent = t[key];
        }
      }
      localStorage.setItem('selectedLanguage', lang);
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark');
    }

    function toggleProfileMenu() {
      const menu = document.getElementById("profile-dropdown");
      if (menu) menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    function logout() {
      localStorage.removeItem("isLoggedIn");
      localStorage.removeItem("profileImage");
      localStorage.removeItem("userPlan");
      localStorage.removeItem("userEmail");
      localStorage.removeItem("token");
      location.reload();
    }

    // Format plan coming from /api/subscription-status
    function formatPlan(plan){
      const p = String(plan || '').toLowerCase();
      if (!p || p === 'free') return 'Free';
      return p.charAt(0).toUpperCase() + p.slice(1);
    }

    async function fetchCurrentPlan(email){
      try{
        const res = await fetch(`${API_BASE}/api/subscription-status?email=${encodeURIComponent(email)}`);
        if(!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        return formatPlan(data?.plan || 'Free');
      }catch(err){
        console.warn('Plan fetch failed:', err);
        return 'Free';
      }
    }

    // Update the dropdown ‚ÄúPlan: ...‚Äù and any #current-plan on the page
    async function refreshHeaderPlan(){
      const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
      const email = localStorage.getItem('userEmail') || '';
      if(!isLoggedIn || !email) return;

      const plan = await fetchCurrentPlan(email);
      localStorage.setItem('userPlan', plan);
      document.querySelectorAll('.plan-label span, #current-plan').forEach(el => el.textContent = plan);
    }

    document.addEventListener("DOMContentLoaded", async function () {
      // Language setup
      const lang = localStorage.getItem('selectedLanguage') || 'en';
      changeLanguage(lang);

      // Buttons
      document.getElementById("addBtn")?.addEventListener("click", () => {
        window.open("https://chromewebstore.google.com/", "_blank");
      });
      document.getElementById("loginBtn")?.addEventListener("click", () => { location.href = "login.html"; });
      document.getElementById("pricingBtn")?.addEventListener("click", () => { location.href = "pricing.html"; });
      document.getElementById("aboutBtn")?.addEventListener("click", () => { location.href = "about.html"; });

      // Login state & header avatar
      const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";
      const profileImage = localStorage.getItem("profileImage") || "default-avatar.png";
      const cachedPlan = localStorage.getItem("userPlan") || "Free";

      if (isLoggedIn) {
        // Hide login button
        const loginBtn = document.getElementById("loginBtn");
        if (loginBtn) loginBtn.style.display = "none";

        // Insert profile avatar with cached plan first
        const navRight = document.querySelector(".nav-right");
        const profileDiv = document.createElement("div");
        profileDiv.className = "profile-container";
        profileDiv.innerHTML = `
          <div style="position: relative;">
            <button class="profile-trigger" onclick="toggleProfileMenu()" style="border: none; background: none;">
              <img id="profile-img" src="${profileImage}" alt="Profile" style="width: 32px; height: 32px; border-radius: 50%;">
            </button>
            <div class="profile-dropdown-content" id="profile-dropdown" style="display: none; position: absolute; right: 0; top: 2.5rem; background: white; color: #333; border-radius: 6px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 10; min-width: 200px;">
              <div class="plan-label" style="padding: 0.6rem 1rem;">
                Plan: <span>${cachedPlan}</span>
              </div>
              <a href="billing.html" style="display:block; padding:0.6rem 1rem; text-decoration:none; color:#333;">Billing & Plan</a>
              <a href="#" onclick="logout()" style="display:block; padding:0.6rem 1rem; text-decoration:none; color:#333;">Logout</a>
            </div>
          </div>
        `;
        navRight.appendChild(profileDiv);

        // Now fetch & update with the authoritative plan from the server
        await refreshHeaderPlan();
      }
    });

    // Keep plan fresh when returning to the page/tab
    window.addEventListener('focus', refreshHeaderPlan);
    document.addEventListener('visibilitychange', () => { if (!document.hidden) refreshHeaderPlan(); });

    // Close dropdown when clicking outside
    window.addEventListener("click", function (e) {
      if (!e.target.closest(".profile-container")) {
        const menu = document.getElementById("profile-dropdown");
        if (menu) menu.style.display = "none";
      }
    });
  </script>
</body>
</html>
